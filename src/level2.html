<!DOCTYPE html>
<html lang="ta">
  <head>
    <meta charset="UTF-8" />
    <title>родрооро┐ро┤рпН роЙропро┐ро░рпН роОро┤рпБродрпНродрпБроХро│рпН ро╡ро┐ро│рпИропро╛роЯрпНроЯрпБ - Level 2</title>
    <link rel="stylesheet" href="css/level2.css" />
  </head>
  <body>
    <div class="topbar">
      <h1>роХрпЗро│рпН & родрпЗро░рпНро╡рпБ роЪрпЖропрпН (HEAR AND SELECT)</h1>
      <div id="progress">Score: <span id="score">0</span>/5</div>
    </div>

    <div class="stage">
      <button id="playSound" class="play-btn">роТро▓ро┐ роХрпЗро│рпН (Hear Sound)</button>
      <div class="options-grid"></div>
      <div id="result" class="hint"></div>
    </div>

    <!-- Yay overlay for promotion -->
    <div class="yay-overlay" id="levelUp">
      <div class="yay-card">
        <div class="yay-text">ЁЯОЙ ро╡ро╛ро┤рпНродрпНродрпБроХрпНроХро│рпН! ЁЯОЙ</div>
        <div class="yay-sub">роирпАроЩрпНроХро│рпН Level 3 роХрпНроХрпБ роорпБройрпНройрпЗро▒рпБроХро┐ро▒рпАро░рпНроХро│рпН</div>
      </div>
    </div>

    <script>
      const vowels = [
        {
          symbol: "роЕ",
          key: "a",
          sound:
            "https://upload.wikimedia.org/wikipedia/commons/transcoded/5/51/Ta-%E0%AE%85.ogg/Ta-%E0%AE%85.ogg.mp3",
        },
        {
          symbol: "роЖ",
          key: "aa",
          sound:
            "https://upload.wikimedia.org/wikipedia/commons/transcoded/e/e8/Ta-%E0%AE%86.ogg/Ta-%E0%AE%86.ogg.mp3",
        },
        {
          symbol: "роЗ",
          key: "i",
          sound:
            "https://upload.wikimedia.org/wikipedia/commons/transcoded/c/c8/Ta-%E0%AE%87.ogg/Ta-%E0%AE%87.ogg.mp3",
        },
        {
          symbol: "роИ",
          key: "ii",
          sound:
            "https://upload.wikimedia.org/wikipedia/commons/transcoded/d/dd/Ta-%E0%AE%88.ogg/Ta-%E0%AE%88.ogg.mp3",
        },
        {
          symbol: "роЙ",
          key: "u",
          sound:
            "https://upload.wikimedia.org/wikipedia/commons/transcoded/2/24/Ta-%E0%AE%89.ogg/Ta-%E0%AE%89.ogg.mp3",
        },
        {
          symbol: "роК",
          key: "uu",
          sound:
            "https://upload.wikimedia.org/wikipedia/commons/transcoded/a/aa/Ta-%E0%AE%8A.ogg/Ta-%E0%AE%8A.ogg.mp3",
        },
        {
          symbol: "роО",
          key: "e",
          sound:
            "https://upload.wikimedia.org/wikipedia/commons/transcoded/6/65/Ta-%E0%AE%8E.ogg/Ta-%E0%AE%8E.ogg.mp3",
        },
        {
          symbol: "роП",
          key: "ee",
          sound:
            "https://upload.wikimedia.org/wikipedia/commons/transcoded/a/ab/Ta-%E0%AE%8F.ogg/Ta-%E0%AE%8F.ogg.mp3",
        },
        {
          symbol: "роР",
          key: "ai",
          sound:
            "https://upload.wikimedia.org/wikipedia/commons/transcoded/2/20/Ta-%E0%AE%90.ogg/Ta-%E0%AE%90.ogg.mp3",
        },
        {
          symbol: "роТ",
          key: "o",
          sound:
            "https://upload.wikimedia.org/wikipedia/commons/transcoded/d/d0/Ta-%E0%AE%92.ogg/Ta-%E0%AE%92.ogg.mp3",
        },
        {
          symbol: "роУ",
          key: "oo",
          sound:
            "https://upload.wikimedia.org/wikipedia/commons/transcoded/1/15/Ta-%E0%AE%93.ogg/Ta-%E0%AE%93.ogg.mp3",
        },
        {
          symbol: "роФ",
          key: "au",
          sound:
            "https://upload.wikimedia.org/wikipedia/commons/transcoded/5/53/Ta-%E0%AE%94.ogg/Ta-%E0%AE%94.ogg.mp3",
        },
        {
          symbol: "роГ",
          key: "aytham",
          sound:
            "https://upload.wikimedia.org/wikipedia/commons/transcoded/8/8d/Ta-%E0%AE%83.ogg/Ta-%E0%AE%83.ogg.mp3",
        },
      ];

      const yay = new Audio(
        "https://cdn.pixabay.com/download/audio/2023/03/30/audio_140921_cartoon-yay.mp3?filename=cartoon-yay-140921.mp3"
      );

      let currentAnswer = null;
      let score = 0;

      const optionsDiv = document.querySelector(".options-grid");
      vowels.forEach((v) => {
        const btn = document.createElement("div");
        btn.className = "tile";
        btn.textContent = v.symbol;
        btn.onclick = () => checkAnswer(v.key, btn);
        optionsDiv.appendChild(btn);
      });

      document.getElementById("playSound").addEventListener("click", () => {
        const random = vowels[Math.floor(Math.random() * vowels.length)];
        currentAnswer = random.key;
        const audio = new Audio(random.sound);
        audio.play();
      });

      function checkAnswer(selected, tile) {
        const result = document.getElementById("result");
        if (selected === currentAnswer) {
          yay.play();
          result.textContent = "тЬЕ роЪро░ро┐!";
          tile.classList.add("correct");
          setTimeout(() => tile.classList.remove("correct"), 500);
          score++;
          document.getElementById("score").textContent = score;
          currentAnswer = null;

          if (score >= 5) {
            promoteToLevel3();
          }
        } else {
          result.textContent = "тЭМ родро╡ро▒рпБ!";
          tile.classList.add("wrong");
          setTimeout(() => tile.classList.remove("wrong"), 500);
        }
      }

      function promoteToLevel3() {
        const overlay = document.getElementById("levelUp");
        overlay.classList.add("show");
        setTimeout(() => {
          localStorage.setItem("level2Completed", "true");
          window.location.href = "buttonPage.html";
        }, 2500);
      }
    </script>
    <script src="js/level1.js"></script>
  </body>
</html>
